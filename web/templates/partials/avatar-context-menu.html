<sl-dropdown placement="bottom-end">
    <sl-button id="avatar-button" variant="text" slot="trigger" class="no-end">
        <span>
            {{if eq .User nil}}
            Guest
            {{else}}
            {{.User.Nick}}
            {{end}}
        </span>
        <div slot="suffix" class="bg-cover w-10 aspect-square"
            style="background-image: url(/static/assets/default-avatar.png)">
        </div>
    </sl-button>
    <sl-menu>
        {{if ne .User nil}}
        {{if .IsChatPage }}
        <sl-menu-item onclick="location='/chat#settings-dialog'">
            <sl-icon slot="prefix" name="gear"></sl-icon>
            Settings
        </sl-menu-item>
        {{else}}
        <sl-menu-item onclick="location='/settings'">
            <sl-icon slot="prefix" name="gear"></sl-icon>
            Settings
        </sl-menu-item>
        {{end}}
        {{end}}

        <sl-divider></sl-divider>

        {{if .IsChatPage }}
        <sl-menu-item onclick="location='/'">
            <sl-icon slot="prefix" name="house-door"></sl-icon>
            Home page
        </sl-menu-item>
        {{else}}
        <sl-menu-item onclick="location='/chat'">
            <sl-icon slot="prefix" name="chat-right-text"></sl-icon>
            Chat
        </sl-menu-item>
        {{end}}

        {{if ne .User nil}}
        <sl-menu-item hx-put="/logout" hx-swap="innerHTML">
            <sl-icon slot="prefix" name="box-arrow-right"></sl-icon>
            Log Out
        </sl-menu-item>
        {{else}}
        <sl-menu-item onclick="location.hash='#login-dialog'">
            <sl-icon slot="prefix" name="person-circle"></sl-icon>
            Log In
        </sl-menu-item>
        {{end}}
    </sl-menu>
</sl-dropdown>